{"ast":null,"code":"import React,{useState}from\"react\";import{motion}from\"framer-motion\";import{FunnelIcon}from\"@heroicons/react/24/outline\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const DataCleaning=()=>{const[status,setStatus]=useState(\"idle\");const[progress,setProgress]=useState(0);const[results,setResults]=useState(null);const[error,setError]=useState(\"\");const startCleaning=async()=>{setStatus(\"cleaning\");setProgress(10);setError(\"\");try{const res=await fetch(\"http://localhost:8000/api/cleaning/start\",{method:\"POST\"});if(!res.ok)throw new Error(\"Server error\");setProgress(60);const data=await res.json();setResults(data.data);// Update with new data from API\nsetProgress(100);setStatus(\"completed\");}catch(err){setStatus(\"error\");setError(\"Cleaning failed. Check backend.\");}};const badge={idle:\"bg-gray-200\",cleaning:\"bg-blue-200\",completed:\"bg-green-200\",error:\"bg-red-200\"};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-100 p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-600 p-2 rounded-lg\",children:/*#__PURE__*/_jsx(FunnelIcon,{className:\"w-6 h-6 text-white\"})}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold\",children:\"Data Cleaning Pipeline\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-xl shadow\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"font-semibold mb-4\",children:\"Processing Control\"}),/*#__PURE__*/_jsx(\"button\",{onClick:startCleaning,disabled:status===\"cleaning\",className:\"w-full bg-green-600 text-white py-2 rounded hover:bg-green-700 disabled:bg-gray-400\",children:status===\"cleaning\"?\"Processing...\":\"Start Cleaning\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 h-3\",children:/*#__PURE__*/_jsx(motion.div,{animate:{width:\"\".concat(progress,\"%\")},className:\"h-3 bg-green-600 rounded\"})}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm mt-2\",children:[progress,\"% completed\"]})]}),/*#__PURE__*/_jsx(\"span\",{className:\"px-3 py-1 rounded text-sm \".concat(badge[status]),children:status.toUpperCase()}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-600 mt-3\",children:error})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-xl shadow\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"font-semibold mb-4\",children:\"Cleaning Results\"}),!results&&/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"No data processed yet. Click \\\"Start Cleaning\\\" to begin.\"})}),results&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-3 gap-4 text-center mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 p-3 rounded\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xl font-bold\",children:results.beforeRecords}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Before Cleaning\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-yellow-50 p-3 rounded\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xl font-bold\",children:results.removed}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Removed\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 p-3 rounded\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xl font-bold\",children:results.afterRecords}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Clean Records\"})]})]}),/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold mb-2\",children:\"Sample Cleaned Data\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"w-full text-sm border\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-100\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"border p-2\",children:\"Player\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border p-2\",children:\"Runs\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border p-2\",children:\"Strike Rate\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:results.sample&&results.sample.map((row,i)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"border p-2\",children:row.player}),/*#__PURE__*/_jsx(\"td\",{className:\"border p-2\",children:row.runs}),/*#__PURE__*/_jsx(\"td\",{className:\"border p-2\",children:row.strikeRate})]},i))})]})]})]})]})]});};export default DataCleaning;","map":{"version":3,"names":["React","useState","motion","FunnelIcon","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","DataCleaning","status","setStatus","progress","setProgress","results","setResults","error","setError","startCleaning","res","fetch","method","ok","Error","data","json","err","badge","idle","cleaning","completed","className","children","onClick","disabled","div","animate","width","concat","toUpperCase","beforeRecords","removed","afterRecords","sample","map","row","i","player","runs","strikeRate"],"sources":["E:/Data Analytics -Sports data Analytics/frontend/src/pages/DataCleaning.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { motion } from \"framer-motion\";\nimport { FunnelIcon } from \"@heroicons/react/24/outline\";\n\nconst DataCleaning = () => {\n  const [status, setStatus] = useState(\"idle\");\n  const [progress, setProgress] = useState(0);\n  const [results, setResults] = useState(null);\n  const [error, setError] = useState(\"\");\n\n  const startCleaning = async () => {\n    setStatus(\"cleaning\");\n    setProgress(10);\n    setError(\"\");\n\n    try {\n      const res = await fetch(\"http://localhost:8000/api/cleaning/start\", {\n        method: \"POST\",\n      });\n\n      if (!res.ok) throw new Error(\"Server error\");\n\n      setProgress(60);\n      const data = await res.json();\n\n      setResults(data.data); // Update with new data from API\n      setProgress(100);\n      setStatus(\"completed\");\n    } catch (err) {\n      setStatus(\"error\");\n      setError(\"Cleaning failed. Check backend.\");\n    }\n  };\n\n  const badge = {\n    idle: \"bg-gray-200\",\n    cleaning: \"bg-blue-200\",\n    completed: \"bg-green-200\",\n    error: \"bg-red-200\",\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-100 p-6\">\n      <div className=\"flex items-center gap-3 mb-6\">\n        <div className=\"bg-green-600 p-2 rounded-lg\">\n          <FunnelIcon className=\"w-6 h-6 text-white\" />\n        </div>\n        <h1 className=\"text-2xl font-bold\">Data Cleaning Pipeline</h1>\n      </div>\n\n      <div className=\"grid md:grid-cols-2 gap-6\">\n        <div className=\"bg-white p-6 rounded-xl shadow\">\n          <h2 className=\"font-semibold mb-4\">Processing Control</h2>\n          <button\n            onClick={startCleaning}\n            disabled={status === \"cleaning\"}\n            className=\"w-full bg-green-600 text-white py-2 rounded hover:bg-green-700 disabled:bg-gray-400\"\n          >\n            {status === \"cleaning\" ? \"Processing...\" : \"Start Cleaning\"}\n          </button>\n\n          <div className=\"mt-4\">\n            <div className=\"w-full bg-gray-200 h-3\">\n              <motion.div\n                animate={{ width: `${progress}%` }}\n                className=\"h-3 bg-green-600 rounded\"\n              />\n            </div>\n            <p className=\"text-sm mt-2\">{progress}% completed</p>\n          </div>\n\n          <span className={`px-3 py-1 rounded text-sm ${badge[status]}`}>\n            {status.toUpperCase()}\n          </span>\n\n          {error && <p className=\"text-red-600 mt-3\">{error}</p>}\n        </div>\n\n        {/* Results */}\n        <div className=\"bg-white p-6 rounded-xl shadow\">\n          <h2 className=\"font-semibold mb-4\">Cleaning Results</h2>\n\n          {!results && (\n            <div className=\"text-center py-8\">\n              <p className=\"text-gray-500\">No data processed yet. Click \"Start Cleaning\" to begin.</p>\n            </div>\n          )}\n\n          {results && (\n            <>\n              <div className=\"grid grid-cols-3 gap-4 text-center mb-4\">\n                <div className=\"bg-blue-50 p-3 rounded\">\n                  <p className=\"text-xl font-bold\">{results.beforeRecords}</p>\n                  <p className=\"text-sm text-gray-600\">Before Cleaning</p>\n                </div>\n                <div className=\"bg-yellow-50 p-3 rounded\">\n                  <p className=\"text-xl font-bold\">{results.removed}</p>\n                  <p className=\"text-sm text-gray-600\">Removed</p>\n                </div>\n                <div className=\"bg-green-50 p-3 rounded\">\n                  <p className=\"text-xl font-bold\">{results.afterRecords}</p>\n                  <p className=\"text-sm text-gray-600\">Clean Records</p>\n                </div>\n              </div>\n\n              <h3 className=\"font-semibold mb-2\">Sample Cleaned Data</h3>\n              <table className=\"w-full text-sm border\">\n                <thead className=\"bg-gray-100\">\n                  <tr>\n                    <th className=\"border p-2\">Player</th>\n                    <th className=\"border p-2\">Runs</th>\n                    <th className=\"border p-2\">Strike Rate</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {results.sample && results.sample.map((row, i) => (\n                    <tr key={i}>\n                      <td className=\"border p-2\">{row.player}</td>\n                      <td className=\"border p-2\">{row.runs}</td>\n                      <td className=\"border p-2\">{row.strikeRate}</td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default DataCleaning;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}